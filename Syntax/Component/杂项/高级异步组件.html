<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>高级异步组件</title>
		<script type="text/javascript" src="../../../js/vue.min.js" ></script>
	</head>
	<body>
		<div id="parent">
		</div>
		高级异步组件 2.3.0 新增
		<p>
			注意，当一个异步组件被作为 vue-router 的路由组件使用时，
			这些高级选项都是无效的，因为在路由切换前就会提前加载所需要的异步组件。
			另外，如果你要在路由组件中使用上述写法，需要使用 vue-router 2.4.0 以上的版本。
		</p>
		<script>
			const AsyncComp = () => ({
				// 需要加载的组件，应当是一个 Promise
				component: import('./MyComp.vue'),
				// 加载中应当渲染的组件
				loading: LoadingComp,
				// 出错时渲染的组件
				error:ErrorComp,
				// 渲染加载中组件前的等待时间，默认 200ms
				delay: 200,
				// 最长等待时间。超出此时间则渲染错误组件。 默认：Infinity
				timeout: 3000
			});
			
			var vm = new Vue({
				el: '#parent'
			});
			
		</script>
	</body>
</html>
